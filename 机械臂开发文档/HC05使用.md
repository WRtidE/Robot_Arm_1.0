# AT指令

[【常用模块】HC-05蓝牙串口通信模块使用详解（实例：手机蓝牙控制STM32单片机）_常用模块hc-05-CSDN博客](https://blog.csdn.net/qq_38410730/article/details/80368485)

#### 蓝牙模块的调试

**HC-05蓝牙串口通讯模块具有两种工作模式：命令响应工作模式和自动连接工作模式。**在自动连接工作模式下模块又可分为主（Master）、从（Slave）和回环（Loopback）三种工作角色。

- **当模块处于自动连接工作模式时，将自动根据事先设定的方式连接的数据传输；**
- **当模块处于命令响应工作模式时能执行AT命令，用户可向模块发送各种AT 指令，为模块设定控制参数或发布控制命令。**

怎么进入命令响应工作模式？

进入命令响应工作模式有两种方法：

- **模块上电，未配对情况下就是AT模式，波特率为模块本身的波特率，默认：9600，发送一次AT指令时需要置高一次PIO11；**
- **PIO11 置高电平后，再给模块上电，此时模块进入AT 模式，波特率固定为：38400，可以直接发送AT指令。**

什么叫做置高一次PIO11？

**在蓝牙模块中有一个小按键，按一下就置高一次PIO11。**也就是说，第一种方法需要每发送一次AT指令按一次；而第二种方式是长按的过程中上电，之后就无需再管了，直接发送AT命令即可。

**需要注意一下，两种进入命令响应工作模式的方式使用的波特率是不一样的，建议使用第二种方式。**

怎么区分进了命令响应工作模式呢？

在蓝牙模块上有灯，**当灯快闪的时候，就是自动连接工作模式；当灯慢闪的时候，就是命令响应工作模式。**

#### AT命令

进入到命令响应工作模式之后，就可以使用串口调试助手进行蓝牙调试了。

首先有一点，**AT指令不区分大小写，均以回车、换行结尾。**下面介绍常用的AT指令：

| 指令名                             | 响应                                | 含义             |
| ---------------------------------- | ----------------------------------- | ---------------- |
| AT                                 | OK                                  | 测试指令         |
| AT+RESET                           | OK                                  | 模块复位         |
| AT+VERSION?                        | +VERSION:<Param> OK                 | 获得软件版本号   |
| AT+ORGL                            | OK                                  | 恢复默认状态     |
| AT+ADDR?                           | +ADDR:<Param> OK                    | 获得蓝牙模块地址 |
| AT+NAME=<Param>                    | OK                                  | 设置设备名称     |
| AT+NAME?                           | +NAME:<Param> OK                    | 获得设备名称     |
| AT+PSWD=<Param>                    | OK                                  | 设置模块密码     |
| AT+PSWD?                           | +PSWD:<Param> OK                    | 获得模块密码     |
| AT+UART=<Param1>,<Param2>,<Param3> | OK                                  | 设置串口参数     |
| AT+UART?                           | +UART:<Param1>,<Param2>,<Param3> OK | 获得串口参数     |